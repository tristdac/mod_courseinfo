{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_courseinfo/content

    The content.

    Example context (json):
    {
        "title": "Awesome Structured Title",
        "content": "<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Vitae perspiciatis sint quas enim! Ratione velit, dolores doloremque! Ipsa animi accusantium error laudantium incidunt veniam totam itaque vitae. Blanditiis, libero voluptatem.</p>",
        "hasresources": false,
        "resources": [
            {
                "url": "https://google.com",
                "text": "Google",
                "icon": "fa-link"
            },
            {
                "url": "https://moodle.com",
                "text": "Moodle"
            }
        ],
        "imageurl": "https://placekitten.com/200/300"
    }
}}
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" type="text/css" />
<div class="mod_courseinfo-wrapper">
    <div class="mod_courseinfo-contentwrapper">
    <h3 class="modtitle">{{{title}}}</h3>
        <div class="container">
            <div class="courseinfo_container iconlinks">
                <div class="card-deck dashboard-card-deck ">
                    <a class="card dashboard-card row" href="/local/mytutors/index.php" role="listitem">
                        <div class="card-img dashboard-list-img col-md-2 features-icons-icon">
                            <i class="bi-people m-auto text-dark"></i>
                        </div>
                        <div class="card-body pr-1 course-info-container col-md-9">
                            <div class="d-flex align-items-start">
                                <div class="text-dark">
                                    <span class="sr-only">
                                        Course Contacts
                                    </span>
                                    <span class="multiline h5">
                                        Course Contacts
                                    </span>
                                    <span>{{#str}}cc_tag, mod_courseinfo{{/str}}</span>
                                </div>   
                            </div> 
                        </div>  
                    </a>
                    <a class="card dashboard-card row" href="{{{timetableurl}}}" target="_blank" role="listitem">
                        <div class="card-img dashboard-list-img col-md-2 features-icons-icon">
                            <i class="bi-calendar-date m-auto text-dark"></i>
                        </div>
                        <div class="card-body pr-1 course-info-container col-md-9">
                            <div class="d-flex align-items-start">
                                <div class="text-dark">
                                    <span class="sr-only">
                                        Timetable
                                    </span>
                                    <span class="multiline h5">
                                        Timetable
                                    </span>
                                    <span>{{#str}}tt_tag, mod_courseinfo{{/str}}</span>
                                </div>   
                            </div> 
                        </div>  
                    </a>
                    <a class="card dashboard-card row" href="{{{handbookurl}}}" target="_blank" role="listitem">
                        <div class="card-img dashboard-list-img col-md-2 features-icons-icon">
                            <i class="bi-journal-text m-auto text-dark"></i>
                        </div>
                        <div class="card-body pr-1 course-info-container col-md-9">
                            <div class="d-flex align-items-start">
                                <div class="text-dark">
                                    <span class="sr-only">
                                        Course Handbook
                                    </span>
                                    <span class="multiline h5">
                                        Course Handbook
                                    </span>
                                    <span>{{#str}}ch_tag, mod_courseinfo{{/str}}</span>
                                </div>   
                            </div> 
                        </div>  
                    </a>
                    {{#sgselected}}
                    <a class="card dashboard-card row" href="{{{sgurl}}}" target="_blank" role="listitem">
                        <div class="card-img dashboard-list-img col-md-2 features-icons-icon">
                            <i class="bi-binoculars m-auto text-dark"></i>
                        </div>
                        <div class="card-body pr-1 course-info-container col-md-9">
                            <div class="d-flex align-items-start">
                                <div class="text-dark">
                                    <span class="sr-only">
                                        Subject Guide
                                    </span>
                                    <span class="multiline h5">
                                        Subject Guide
                                    </span>
                                    <span>{{#str}}sg_tag, mod_courseinfo{{/str}}</span>
                                </div>   
                            </div> 
                        </div>  
                    </a>
                    {{/sgselected}}
                    <a class="card dashboard-card row" href="{{{libraryurl}}}" target="_blank" role="listitem">
                        <div class="card-img dashboard-list-img col-md-2 features-icons-icon">
                            <i class="bi-display m-auto text-dark"></i>
                        </div>
                        <div class="card-body pr-1 course-info-container col-md-9">
                            <div class="d-flex align-items-start">
                                <div class="text-dark">
                                    <span class="sr-only">
                                        Virtual Library
                                    </span>
                                    <span class="multiline h5">
                                        Virtual Library
                                    </span>
                                    <span>{{#str}}vl_tag, mod_courseinfo{{/str}}</span>
                                </div>   
                            </div> 
                        </div>  
                    </a>
                    {{#hasunits}}
                    <a class="card dashboard-card row" data-toggle="collapse" href="#collapseUnits" role="button" aria-expanded="false" aria-controls="collapseUnits" role="listitem">
                        <div class="card-img dashboard-list-img col-md-2 features-icons-icon">
                            <i class="bi-collection-fill m-auto text-dark"></i>
                        </div>
                        <div class="card-body pr-1 course-info-container col-md-9">
                            <div class="d-flex align-items-start">
                                <div class="text-dark">
                                    <span class="sr-only">
                                        Standalone Units
                                    </span>
                                    <span class="multiline h5">
                                        Standalone Units
                                    </span>
                                    <span>{{#str}}su_tag, mod_courseinfo{{/str}}</span>
                                </div>   
                            </div> 
                        </div>  
                    </a>
                    {{/hasunits}}
                </div>
            </div> 
            <div class="collapse" id="collapseUnits">
                <div class="courseinfo_container unit_container units">
                    <h5 class="unitheading">Units <div class="unithelp">
                        <div id="anim">
                            <span class="tooltip1" data-tooltip="Some information about units here Some information about units here Some information about units here Some information about units here">?</span>
                        </div>
                    </div>
                    </h5>
                    
                    </button>
                    <div class="card-deck dashboard-card-deck ">
                    <!--<div class="cover">
                        <div class="coursetitle">
                            <h1>{{{course}}}</h1>
                            <p>Some of the units for this course have their own separate page</p>
                        </div>
                    </div> -->
                        {{#framework_units}}
                        <a class="card dashboard-card row" href="{{{wwwroot}}}/course/view.php?id={{id}}" role="listitem" data-region="course-content" data-course-id="{{id}}">
                            
                            <div class="card-img dashboard-list-img col-md-3" style="background-image:url('{{courseimageurl}}');">
                                <span class="sr-only">Course image</span>
                            </div>
                       
                            <div class="card-body pr-1 course-info-container col-md-9" id="course-info-container-{{id}}">
                                <div class="d-flex align-items-start">
                                    <div class="text-dark">
                                            <span class="sr-only">
                                                Course name
                                            </span>
                                            <span class="multiline">
                                                {{title}}
                                            </span>
                                    </div>   
                                </div> 
                            </div>  
                        </a>
                        {{/framework_units}}
                    </div>
                </div> 
            </div>
        </div>
    </div>
</div>

{{#js}}
    let location = document.querySelector('#block-region-content');
    let courseinfo = document.querySelector('.activity.activity-wrapper.courseinfo.modtype_courseinfo');
    location.before(courseinfo);
    {{#canedit}}
        var editBtn = '<a id="edit_courseinfo" href="/course/mod.php?sr=0&update={{cmid}}"><i class="fa fa-cog fa-2x" style="float:right;"></i></a>';
        var target = document.querySelector('.modtype_courseinfo .activity-item');
        target.innerHTML += editBtn;
    {{/canedit}}
{{/js}}